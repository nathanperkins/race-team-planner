# Dockerfile for database backup job
FROM google/cloud-sdk:slim

# Install PostgreSQL client for pg_dump and gnupg for encryption
RUN apt-get update && apt-get install -y postgresql-client gnupg && rm -rf /var/lib/apt/lists/*

# Copy backup script
COPY scripts/backup-db.sh /backup.sh
RUN chmod +x /backup.sh

# Run the backup script
CMD ["/backup.sh"]
